V1NST3	;NESTING LEVEL -3-;KO-YS-TS,,VALIDATION VERSION 7.1;31-AUG-1987;
	;COPYRIGHT MUMPS SYSTEM LABORATORY 1978
	S PASS=0,FAIL=0
	W !!,"V1NST3: TEST OF NESTING ( FOR, XECUTE, DO, @, <FUNCTION> ) -3-"
	W !,"AS THIS OWN ROUTINE IS COUNTED AS ONE LEVEL OF NESTING"
	W !,"ADDITIONAL 14 LEVELS OF NESTING ARE REQUIRED." W:$Y>55 #
	W !,"ADMITTED NESTING LEVELS ARE INDICATED BY THE NUMBER IN EACH TEST.",!
	;
660	W !,"I-660  effect of GOTO command on nesting"
	S ITEM="I-660.1  local GOTO",V=""
	GOTO G1
G6601	S VCOMP=V,VCORR="1234567891011121314" D EXAMINER
	;
	S ITEM="I-660.2  external GOTO",V=""
	G G1^V1NSTE
G6602	S VCOMP=V,VCORR="G1G2G3G4G5G6G7G8G9G10G11G12G13G14" D EXAMINER
	;
661	W !,"I-661  effect of QUIT command on nesting"
	S ITEM="I-661  ",V=""
	F I=1:1:4 F J=1:1:4 D D6611
	S V=V_" " F I=1:1:4 F J=1:1:4 D D6612
	S VCOMP=V,VCORR="11 12 13 14 21 22 23 24 31 32 33 34 41 42 43 44  11 12 13 14 21 22 23 24 31 32 33 34 41 42 43 44 " D EXAMINER
	;
END	W !!,"END OF V1NST3",!
	S ROUTINE="V1NST3",TESTS=3,AUTO=3,VISUAL=0 D ^VREPORT
	K  Q
	;
EXAMINER	I VCORR=VCOMP S PASS=PASS+1 W !,"   PASS  ",ITEM W:$Y>55 # Q
	S FAIL=FAIL+1 W !,"** FAIL  ",ITEM W:$Y>55 #
	W !,"           COMPUTED =""",VCOMP,"""" W:$Y>55 #
	W !,"           CORRECT  =""",VCORR,"""" W:$Y>55 #
	Q
D6611	S V=V_I_J_" " Q
	;
GOTO	;nesting GOTO command
GG1	S V=V_"G1" G G2^V1NSTE
GG2	S V=V_"G2" G G3^V1NSTE
GG3	S V=V_"G3" G G4^V1NSTE
GG4	S V=V_"G4" G G5^V1NSTE
GG5	S V=V_"G5" G G6^V1NSTE
GG6	S V=V_"G6" G G7^V1NSTE
GG7	S V=V_"G7" G G8^V1NSTE
GG8	S V=V_"G8" G G9^V1NSTE
GG9	S V=V_"G9" G G10^V1NSTE
GG10	S V=V_"G10" G G11^V1NSTE
GG11	S V=V_"G11" G G12^V1NSTE
GG12	S V=V_"G12" G G13^V1NSTE
GG13	S V=V_"G13" G G14^V1NSTE
GG14	S V=V_"G14" G G6602
	;
G14	S V=V_14 G G6601
G1	S V=V_1 G G2
G3	S V=V_3 G G4
G5	S V=V_5 G G6
G6	S V=V_6 G G7
G7	S V=V_7 G G8
G13	S V=V_13 G G14
G8	S V=V_8 G G9
G2	S V=V_2 G G3
G4	S V=V_4 G G5
G11	S V=V_11 G G12
G9	S V=V_9 G G10
G12	S V=V_12 G G13
G10	S V=V_10 G G11
	;
D1	S V=V_1 D D2 Q
D2	S V=V_2 D D3 Q
D3	S V=V_3 D D4 Q
D4	S V=V_4 D D5 Q
D5	S V=V_5 D D6 Q
D6	S V=V_6 D D7 Q
D7	S V=V_7 D D8 Q
D8	S V=V_8 D D9 Q
D9	S V=V_9 D D10 Q
D10	S V=V_10 D D11 Q
D11	S V=V_11 D D12 Q
D12	S V=V_12 D D13 Q
D13	S V=V_13 D D14 Q
D14	S V=V_14 Q
	;
D6612	S V=V_I_J_" "
