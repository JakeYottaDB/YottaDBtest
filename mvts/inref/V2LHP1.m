V2LHP1 ;IW-KO-TS,VV2,MVTS V9.10;15/6/96;LEFT HAND $PIECE -1-
 ;
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1984-1996
 W !!,"10---V2LHP1: Left hand $PIECE -1-",!
 W !,"$PIECE(glvn,expr1)",!
96 W !,"II-96  expr1 is a string literal"
 S ^ABSN="20097",^ITEM="II-96  expr1 is a string literal",^NEXT="97^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S X="A^B^C",$P(X,"^")="D",^VCOMP=X,^VCORR="D^B^C" D ^VEXAMINE
 ;
97 W !!,"$PIECE(glvn,expr1,intexpr2)",!
 W !,"II-97  expr1 is a string literal"
 S ^ABSN="20098",^ITEM="II-97  expr1 is a string literal",^NEXT="98^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S VCOMP="A1B1C",$P(VCOMP,"1A",3)="DD"
 S ^VCOMP=VCOMP,^VCORR="A1B1C1A1ADD" D ^VEXAMINE ;test corrected V7.5;23/7/90
 ;
98 W !!,"$PIECE(glvn,expr1,intexpr2,intexpr3) K=max(0,$L(glvn,expr1)-1)",!
 W !,"II-98  intexpr2>intexpr3"
 S ^ABSN="20099",^ITEM="II-98  intexpr2>intexpr3",^NEXT="99^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S ^VCOMP="A^B^C",$P(^VCOMP,"^",2,1)="D",^VCORR="A^B^C" D ^VEXAMINE
 ;
99 W !,"II-99  intexpr3<1"
991 S ^ABSN="20100",^ITEM="II-99.1  intexpr2=1",^NEXT="992^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S VCOMP="A^B^C",$P(VCOMP,"^",1,-1)="D"
 S ^VCOMP=VCOMP,^VCORR="A^B^C" D ^VEXAMINE
 ;
992 S ^ABSN="20101",^ITEM="II-99.2  intexpr2<intexpr3",^NEXT="993^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S ^VCOMP="A^B^C",$P(^VCOMP,"^",-555555,-3)="D"
 S ^VCORR="A^B^C" D ^VEXAMINE
 ;
993 S ^ABSN="20102",^ITEM="II-99.3  intexpr2>intexpr3",^NEXT="100^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S VCOMP="A^B^C",$P(VCOMP,"^",-3,-533333)="D"
 S ^VCOMP=VCOMP,^VCORR="A^B^C" D ^VEXAMINE
 ;
100 W !,"II-100  K<intexpr2-1<intexpr3"
1001 S ^ABSN="20103",^ITEM="II-100.1  K=0",^NEXT="1002^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S ^VCOMP="A^B^C",$P(^VCOMP,"#",3,4)="D"
 S ^VCORR="A^B^C##D" D ^VEXAMINE
 ;
1002 S ^ABSN="20104",^ITEM="II-100.2  K=1",^NEXT="1003^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S VCOMP="A^B^C",$P(VCOMP,"B",3,5)="00"
 S ^VCOMP=VCOMP,^VCORR="A^B^CB00" D ^VEXAMINE
 ;
1003 S ^ABSN="20105",^ITEM="II-100.3  K=2",^NEXT="101^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S ^V="A^B^C",$P(^V,"^",5,7)="D",^VCOMP=^V S ^VCORR="A^B^C^^D" D ^VEXAMINE
 ;
101 W !,"II-101  intexpr2-1<=K<intexpr3"
1011 S ^ABSN="20106",^ITEM="II-101.1  K=0",^NEXT="1012^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S VCOMP="A^B^C",$P(VCOMP,"##",1,1)="$$"
 S ^VCOMP=VCOMP,^VCORR="$$" D ^VEXAMINE
 ;
1012 S ^ABSN="20107",^ITEM="II-101.2  K=1",^NEXT="1013^V2LHP1,V2LHP2^VV2" D ^V2PRESET
 S X(1)="A^B^C",$P(X(1),"B",2,3)="$$"
 S ^VCOMP=X(1),^VCORR="A^B$$" D ^VEXAMINE
 ;
1013 S ^ABSN="20108",^ITEM="II-101.3  K=2",^NEXT="V2LHP2^VV2" D ^V2PRESET
 S VCOMP="A^B^C",$P(VCOMP,"^",2,4)="D"
 S ^VCOMP=VCOMP,^VCORR="A^D" D ^VEXAMINE
 ;
END W !!,"End of 10---V2LHP1",!
 K  K ^V
 Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
