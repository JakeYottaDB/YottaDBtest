V4REV2 ;IW-KO-YS-TS,V4REV,MVTS V9.10;15/6/96;PART-94
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1994-1996
 ;
 W !!,"20---V4REV2:  $REVERSE function  -2-"
 ;
1 S ^ABSN="40160",^ITEM="IV-160  expr is a lvn"
 S ^NEXT="2^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET
 s V=1,VV(1,0,345)=0001.2000000
 S ^VCOMP=$RE(VV(V,0,345))
 S ^VCORR="2.1" D ^VEXAMINE
 ;
2 S ^ABSN="40161",^ITEM="IV-161  expr is a gvn"
 S ^NEXT="3^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET k ^VV
 S ^VV(1,2,3,"A",4)="xyz "_"QWE "_0123.450
 S ^VCOMP=$re(^VV(1,2,3,"A",4))
 S ^VCORR="54.321 EWQ zyx" D ^VEXAMINE K ^VV
 ;
3 S ^ABSN="40162",^ITEM="IV-162  expr is a svn"
 S ^NEXT="4^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET
 S ^VCOMP=$REVERSE($JOB)
 S E=$JOB,R="" F I=$L(E):-1:1 S R=R_$E(E,I)
 S ^VCORR=R D ^VEXAMINE
 ;
4 S ^ABSN="40163",^ITEM="IV-163  expr is a naked reference"
 S ^NEXT="5^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET k ^VV
 s ^VV(1,2,3,"A",4)=345E-6 s VV=$D(^VV(1,2,3,"B"))
 S ^VCOMP=$reverse(^("A",4))_" "_^(4)
 S ^VCORR="543000. .000345" D ^VEXAMINE K ^VV
 ;
5 S ^ABSN="40164",^ITEM="IV-164  expr is composed of control characters"
 S ^NEXT="6^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET
 S VV="" F I=0:1:31 S VV=VV_$C(I)
 S VV1="" F I=31:-1:0 S VV1=VV1_$C(I)
 S ^VCOMP=$re(VV)
 S ^VCORR=VV1 D ^VEXAMINE
 ;
6 S ^ABSN="40165",^ITEM="IV-165  expr is a string with maximum length"
 S ^NEXT="7^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET
 S VV="" F I=0:1:126 S VV=VV_$C(I)
 F I=0:1:127 S VV=VV_$C(I)
 S VV1="" F I=127:-1:0 S VV1=VV1_$C(I)
 F I=126:-1:0 S VV1=VV1_$C(I)
 S ^VCOMP=$re(VV)
 S ^VCORR=VV1 D ^VEXAMINE
 ;
7 S ^ABSN="40166",^ITEM="IV-166  expr contains a unary operator"
 S ^NEXT="8^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET
 S ^VCOMP=$REVERSE(-"+98765E++5ABCDEF")
 S ^VCORR="56789-" D ^VEXAMINE
 ;
8 S ^ABSN="40167",^ITEM="IV-167  expr contains a binary operator"
 S ^NEXT="9^V4REV2,V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET
 S ^VCOMP=$reverse("XYZABCDEF45"?2.U3.N)
 S ^VCORR="0" D ^VEXAMINE
 ;
9 S ^ABSN="40168",^ITEM="IV-168  expr contains operators"
 S ^NEXT="V4REV3^V4REV,V4GET2^VV4" D ^V4PRESET
 S ^VCOMP=$RE(+-+-++"3E1A"=30+122)
 S ^VCORR="321" D ^VEXAMINE
 ;
END W !!,"End of 20 --- V4REV2",!
 K  Q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
