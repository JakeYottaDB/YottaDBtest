V3NEWDO2 ;IW-KO-YS-TS,V3NEW,MVTS V9.10;15/6/96;
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1990-1996
 W !!,"100---V3NEWDO2: NEW -30-"
 W !!,"external DO command"
 ;
60 S ^ABSN="30967",^ITEM="III-0967  NEW all"
 S ^NEXT="61^V3NEWDO2,V3NEWMF1^V3NEW,V3ALDO^VV3" D ^V3PRESET K
 S ^VCOMP=""
 S A="A",B="B",C="C" s D=32 k D
 D NEWDO1
 D CHK^V3NEWDO1
 S ^VCORR="111/0 0 0 0 0 0 0 0 11 1 11 1 11 1 11 1 aa(2)bBB(2)CCc(2)dd(2)#1 0 1 0 1 0 0 0 ABC#"
 D ^VEXAMINE
 ;
61 S ^ABSN="30968",^ITEM="III-0968  selective NEW"
 S ^NEXT="62^V3NEWDO2,V3NEWMF1^V3NEW,V3ALDO^VV3" D ^V3PRESET K
 S A="A",A(2)="A(2)",B="B",B(2)="B(2)",C="C",C(2)="C(2)"
 S ^VCOMP=""
 D NEWDO2
 D CHK^V3NEWDO1
 S ^VCORR="0011/11 1 1 0 11 1 11 1 aa(2)bCc(2)dd(2)#11 1 11 1 11 1 11 1 AA(2)BB(2)Cc(2)dd(2)#"
 D ^VEXAMINE
 ;
62 S ^ABSN="30969",^ITEM="III-0969  exclusive NEW"
 S ^NEXT="^V3NEWMF1,V3NEWMF2^V3NEW,V3ALDO^VV3" D ^V3PRESET K
 S A="A",A(2)="A(2)",B="B",B(2)="B(2)",C="C",C(2)="C(2)"
 S ^VCOMP=""
 D NEWDO3^V3NEWDO1,CHK^V3NEWDO1
 S ^VCORR="111111/0 0 11 1 0 0 0 0 11 1 11 1 11 1 11 1 aa(2)bBB(2)CCc(2)dd(2)#11 1 11 1 11 1 11 1 AA(2)bBB(2)CC(2)dd(2)#"
 D ^VEXAMINE
 ;
END W !!,"End of 100 --- V3NEWDO2",!
 K  Q
 ;
NEWDO1 ;
 S ^VCOMP=^VCOMP_$D(A)_$D(B)_$D(C)_"/"    ;111/
 N  d ^V3NEWDE1
 S A="a",A(2)="a(2)",B="b",C(2)="c(2)",D="d",D(2)="d(2)"
 D CHK^V3NEWDO1
 QUIT
 ;
NEWDO2 ;
 N A,B
 S ^VCOMP=^VCOMP_$D(A)_$D(B)_$D(C)_"/"    ;0011/
 D NEWDOE2^V3NEWDE1
 S D="d",D(2)="d(2)"
 D CHK^V3NEWDO1
 q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
