V3TEXT2 ;IW-KO-YS-TS,V3TEXT,MVTS V9.10;15/6/96;PART-90
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1990-1996
 W !!,"19---V3TEXT2: $TEXT function -2-"
 ;
 W !!,"$TEXT(dlabel+intexpr^routineref)",!
 ;
1 S ^ABSN="30268",^ITEM="III-268  routineref is a routinename"
 S ^NEXT="2^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(A+3^V3TEXTA)
 S ^VCORR=" S A=1 ;A+3" D ^VEXAMINE
 ;
2 S ^ABSN="30269",^ITEM="III-269  routineref has indirection"
 S ^NEXT="3^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S A="V3TEXTA"
 S ^VCOMP=$T(A+2^@A) K A
 S ^VCORR=" ;A+2" D ^VEXAMINE
 ;
3 S ^ABSN="30270",^ITEM="III-270  dlabel is a label"
 S ^NEXT="4^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(ZZ0Z+000000002^V3TEXTA)
 S ^VCORR=" S A=2 ;ZZ0Z+2" D ^VEXAMINE
 ;
4 S ^ABSN="30271",^ITEM="III-271  dlabel has indirection"
 S ^NEXT="5^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S A(1,2,3)="A(3)",A(3)="A"
 S ^VCOMP=$T(@@A(1,2,3)+3^V3TEXTA) K A
 S ^VCORR=" S A=1 ;A+3" D ^VEXAMINE
 ;
5 S ^ABSN="30272",^ITEM="III-272  dlabel is 00000"
 S ^NEXT="6^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(00000+0^V3TEXTB)
 S ^VCORR="00000 S A=0 ;ABC" D ^VEXAMINE
 ;
6 S ^ABSN="30273",^ITEM="III-273  dlabel is 0"
 S ^NEXT="7^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(0+2.1^V3TEXTB)
 S ^VCORR="010 S B=1 ;0+2" D ^VEXAMINE
 ;
7 S ^ABSN="30274",^ITEM="III-274  dlabel is 01"
 S ^NEXT="8^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(01+03^V3TEXTB)
 S ^VCORR="ABCDEFGI S A=1234 ;ABCD" D ^VEXAMINE
 ;
8 S ^ABSN="30275",^ITEM="III-275  dlabel is 1"
 S ^NEXT="9^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(1+2.9^V3TEXTB)
 S ^VCORR="ABCDEFGH S A=123 ;ABC" D ^VEXAMINE
 ;
9 S ^ABSN="30276",^ITEM="III-276  dlabel has indirection"
 S ^NEXT="10^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ABC(1)="B"
 S ^VCOMP=$T(@ABC(1)+--2^V3TEXTA)
 S ^VCORR=" ;;A+1" D ^VEXAMINE
 ;
 W !!,"Various intexpr",!
 ;
10 S ^ABSN="30277",^ITEM="III-277  intexpr is 0"
 S ^NEXT="11^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(A+0^V3TEXTA)
 S ^VCORR="A ;A+0" D ^VEXAMINE
 ;
11 S ^ABSN="30278",^ITEM="III-278  intexpr is 1"
 S ^NEXT="12^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(A+0.0001E+4^V3TEXTA)
 S ^VCORR=" ;;A+1" D ^VEXAMINE
 ;
12 S ^ABSN="30279",^ITEM="III-279  intexpr is 5"
 S ^NEXT="13^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(LABEL+5^V3TEXTA)
 S ^VCORR=" ;A+2" D ^VEXAMINE
 ;
13 S ^ABSN="30280",^ITEM="III-280  intexpr is a fraction part (0.9)"
 S ^NEXT="14^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(A+0.9^V3TEXTA)
 S ^VCORR="A ;A+0" D ^VEXAMINE
 ;
14 S ^ABSN="30281",^ITEM="III-281  intexpr is a string literal ""A"""
 S ^NEXT="15^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(A+"A"^V3TEXTA)
 S ^VCORR="A ;A+0" D ^VEXAMINE
 ;
15 S ^ABSN="30282",^ITEM="III-282  Total routine has 5000 characters"
 S ^NEXT="16^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(00090^V3TEXTC)
 S ^VCORR="00090 S A=0,B=1,C=2,D=3,E=4,F=5,G=6,H=7,I=000090" D ^VEXAMINE
 ;
16 S ^ABSN="30283",^ITEM="III-283  intexpr is 999999999999"
 S ^NEXT="17^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(B+999999999999^V3TEXT)
 S ^VCORR="" D ^VEXAMINE
 ;
17 S ^ABSN="30284",^ITEM="III-284  intexpr is -1*-3"
 S ^NEXT="18^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(A+-1*-3^V3TEXTA)
 S ^VCORR=" S A=1 ;A+3" D ^VEXAMINE
 ;
18 S ^ABSN="30285",^ITEM="III-285  intexpr has a local name"
 S ^NEXT="19^V3TEXT2,V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S V3TEXTA(8)=1
 S ^VCOMP=$T(B+V3TEXTA(8)^V3TEXTA) K V3TEXTA
 S ^VCORR="A ;A+0" D ^VEXAMINE
 ;
19 S ^ABSN="30286",^ITEM="III-286  intexpr has a global name"
 S ^NEXT="V3TEXT3^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^V3TEXTA=2
 S ^VCOMP=$T(B+^V3TEXTA^V3TEXTA) K ^V3TEXTA
 S ^VCORR=" ;;A+1" D ^VEXAMINE
 ;
END W !!,"End of 19 --- V3TEXT2",!
 K  Q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
