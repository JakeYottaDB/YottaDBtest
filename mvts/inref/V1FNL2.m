V1FNL2 ;IW-YS-TS,V1FN,MVTS V9.10;15/6/96;FUNCTION $LENGTH  -2-
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1978-1996
 W !!,"100---V1FNL2: $LENGTH function; $LENGTH(expr)   -2-",!
 ;
309 W !,"I-309  expr is non-integer"
3091 S ^ABSN="11372",^ITEM="I-309.1  3000.11",^NEXT="3092^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(3000.11),^VCORR=7 D ^VEXAMINE
3092 S ^ABSN="11373",^ITEM="I-309.2  00030.011000",^NEXT="310^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(00030.011000),^VCORR=6 D ^VEXAMINE
 ;
310 W !,"I-310  expr is negative numeric"
3101 S ^ABSN="11374",^ITEM="I-310.1  -123",^NEXT="3102^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(-123) S ^VCORR=4 D ^VEXAMINE
3102 S ^ABSN="11375",^ITEM="I-310.2  -123000",^NEXT="3103^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(-123000) S ^VCORR=7 D ^VEXAMINE
3103 S ^ABSN="11376",^ITEM="I-310.3  -9.86056000",^NEXT="3104^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(-9.86056000) S ^VCORR=8 D ^VEXAMINE
3104 S ^ABSN="11377",^ITEM="I-310.4  -000.0110",^NEXT="311^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(-000.0110),^VCORR=5 D ^VEXAMINE
 ;
311 W !,"I-311  0<expr<1"
 S ^ABSN="11378",^ITEM="I-311  000.1100",^NEXT="312^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(000.1100) S ^VCORR=3 D ^VEXAMINE
 ;
312 W !,"I-312  expr is numeric represented by scientific notation"
3121 S ^ABSN="11379",^ITEM="I-312.1  -1E3",^NEXT="3122^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(-1E3) S ^VCORR=5 D ^VEXAMINE
3122 S ^ABSN="11380",^ITEM="I-312.2  000001.0000E-6",^NEXT="3123^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(000001.0000E-6) S ^VCORR=7 D ^VEXAMINE
3123 S ^ABSN="11381",^ITEM="I-312.3  98765E-3",^NEXT="313^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(98765E-3) S ^VCORR=6 D ^VEXAMINE
 ;
313 W !,"I-313  expr is numeric literal with leading zero"
3131 S ^ABSN="11382",^ITEM="I-313.1  002",^NEXT="3132^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(002) S ^VCORR=1 D ^VEXAMINE
3132 S ^ABSN="11383",^ITEM="I-313.2  0000000000000099.12",^NEXT="314^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(0000000000000099.12) S ^VCORR=5 D ^VEXAMINE
 ;
314 W !,"I-314  expr is decimal with following zero"
3141 S ^ABSN="11384",^ITEM="I-314.1  3.110000000000000000",^NEXT="3142^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(3.110000000000000000) S ^VCORR=4 D ^VEXAMINE
3142 S ^ABSN="11385",^ITEM="I-314.2  3.1100000000000E-00002",^NEXT="3143^V1FNL2,V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(3.1100000000000E-00002),^VCORR=5 D ^VEXAMINE
3143 S ^ABSN="11386",^ITEM="I-314.3  -00000000000000.0000000000000",^NEXT="V1FNP1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$L(-00000000000000.0000000000000),^VCORR=1 D ^VEXAMINE
 ;
END W !!,"End of 100---V1FNL2",!
 K  Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
