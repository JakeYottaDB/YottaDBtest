V1FNE4 ;IW-YS-TS,V1FN,MVTS V9.10;15/6/96;FUNCTION $EXTRACT -4-
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1978-1996
 W !!,"95---V1FNE4: $EXTRACT function -4-" W:$Y>55 #
 ;
283 W !!,"I-283  intexpr2>intexpr3"
2831 S ^ABSN="11295",^ITEM="I-283.1  intexpr3>0",^NEXT="2832^V1FNE4,V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP="123" S ^VCOMP=$E("PQRSTUVWXYZ1234567890",2,1) S ^VCORR="" D ^VEXAMINE
2832 S ^ABSN="11296",^ITEM="I-283.2  intexpr2>1 and intexpr3<-1",^NEXT="284^V1FNE4,V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP="123",^VCOMP=$EXTRACT("PQRSTUVWXYZ1234567890",+3,-4) S ^VCORR="" D ^VEXAMINE
 ;
284 W !,"I-284  intexpr3>$LENGTH(expr1)"
2841 S ^ABSN="11297",^ITEM="I-284.1  intexpr2=1",^NEXT="2842^V1FNE4,V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$E("PQRST",1,10) S ^VCORR="PQRST" D ^VEXAMINE
2842 S ^ABSN="11298",^ITEM="I-284.2  1<intexpr2<$L(expr1)",^NEXT="2843^V1FNE4,V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$E("PQRST",3,10) S ^VCORR="RST" D ^VEXAMINE
2843 S ^ABSN="11299",^ITEM="I-284.3  expr1 contains unary operator",^NEXT="2844^V1FNE4,V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$E(-"0.38FHF","ABCD",10) S ^VCORR="-.38" D ^VEXAMINE
2844 S ^ABSN="11300",^ITEM="I-284.4  intexpr2<-1",^NEXT="285^V1FNE4,V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$E("PQRST",-23,10),^VCORR="PQRST" D ^VEXAMINE
 ;
285 W !,"I-285  intexpr3>intexpr2>$LENGTH(expr1)"
 S ^ABSN="11301",^ITEM="I-285  intexpr3>intexpr2>$LENGTH(expr1)",^NEXT="286^V1FNE4,V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP="123" S ^VCOMP=$E(12+34,6,10) S ^VCORR="" D ^VEXAMINE
 ;
286 W !,"I-286  intexpr2>$LENGTH(expr1) and intexpr3<0"
 S ^ABSN="11302",^ITEM="I-286  intexpr2>$LENGTH(expr1) and intexpr3<0",^NEXT="V1FNF1^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP="123" S ^VCOMP=$E("PQRST",8,-10) S ^VCORR="" D ^VEXAMINE
 ;
END W !!,"End of 95---V1FNE4",!
 K  Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
