V4MDC ;IW-KO-TS-YS,VV4,MVTS V9.10;15/6/96;
 ;
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1984-1996
 ;
 W !!,"141---V4MDC: "
 ;
 S ^ABSN="40865",^ITEM="IV-865  Semantics for QUIT after NEW in the Subroutine"
 S ^NEXT="1^V4MDC,END^VV4" D ^V4PRESET K
 D EXAMPLE
 S ^VCORR="Piano" D ^VEXAMINE
 ;
 S ^ABSN="40866",^ITEM="IV-866  Control Flow in Nested Argumentless DO Commands and a QUIT Command"
 S ^NEXT="END^VV4" D ^V4PRESET K
 S INCOME=250000,DEPENDENTS=3
 D TAX
 S ^VCOMP=TAX
 S ^VCORR="10000" D ^VEXAMINE
 ;
END W !!,"End of 141 --- V4MDC",!
 K  Q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
EXAMPLE SET A="Piano" ;#19
 D TAG1(.A)
 QUIT
TAG1(B) D TAG2 S ^VCOMP=B
 QUIT
TAG2 NEW B
 SET B="Organ"
 QUIT
 ;
TAX SET TAX=0 ;#32
 DO
 . IF INCOME>5000 DO
 . . IF DEPENDENTS>0 QUIT
 . . SET TAX=(INCOME-5000)*0.05
 . IF INCOME>50000 DO
 . . IF DEPENDENTS>2 QUIT
 . . SET TAX=TAX+((INCOME-50000)*0.01)
 . IF INCOME>200000 DO
 . . IF DEPENDENTS>4 QUIT
 . . SET TAX=TAX+((INCOME-200000)*0.2)
 Q
