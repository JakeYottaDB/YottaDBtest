V1JST2 ;IW-YS-KO-TS,V1JST,MVTS V9.10;15/6/96;$JUSTIFY, $SELECT, $TEXT -2-
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1978-1996
 W !!,"171---V1JST2: $JUSTIFY, $SELECT and $TEXT functions -2-"
 ;
564 W !,"I-564  expr1 contains function"
5641 S ^ABSN="11978",^ITEM="I-564.1  $LENGTH",^NEXT="5642^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J($L("ABCDE"),4),^VCORR="   5" D ^VEXAMINE
5642 S ^ABSN="11979",^ITEM="I-564.2  $JUSTIFY",^NEXT="565^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J($J("ABCDE",6),8),^VCORR="   ABCDE" D ^VEXAMINE
 ;
565 W !,"I-565  expr1 contains gvn"
 S ^ABSN="11980",^ITEM="I-565  expr1 contains gvn",^NEXT="566^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^V1A="ABCD"
 S ^VCOMP=$J(^V1A,6),^VCORR="  ABCD" D ^VEXAMINE
 ;
566 W !,"I-566  intexpr2>0"
 S ^ABSN="11981",^ITEM="I-566  intexpr2>0",^NEXT="567^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCORR="" F I=1:1:255 S ^VCORR=^VCORR_" "
 S ^VCOMP=$J(" ",255) D ^VEXAMINE
 ;
567 W !,"I-567  intexpr2=0"
 S ^ABSN="11982",^ITEM="I-567  intexpr2=0",^NEXT="568^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J("5.99",0),^VCORR="5.99" D ^VEXAMINE
 ;
568 W !,"I-568  intexpr2<0"
 S ^ABSN="11983",^ITEM="I-568  intexpr2<0",^NEXT="569^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J("5.490",-1),^VCORR="5.490" D ^VEXAMINE
 ;
569 W !,"I-569  intexpr2<$L(expr1)"
5691 S ^ABSN="11984",^ITEM="I-569.1  intexpr2=1",^NEXT="5692^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J("05.490",1),^VCORR="05.490" D ^VEXAMINE
5692 S ^ABSN="11985",^ITEM="I-569.2  intexpr2=($L(expr1)+1)",^NEXT="570^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J("05.490",5),^VCORR="05.490" D ^VEXAMINE
 ;
570 W !,"I-570  intexpr2=$L(expr1)"
 S ^ABSN="11986",^ITEM="I-570  intexpr2=$L(expr1)",^NEXT="571^V1JST2,V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J("05.490",6),^VCORR="05.490" D ^VEXAMINE
 ;
571 W !,"I-571  intexpr2>$L(expr1)"
 S ^ABSN="11987",^ITEM="I-571  intexpr2>$L(expr1)",^NEXT="V1JST3^V1JST,V1SVH^VV1" D ^V1PRESET
 S ^VCOMP=$J(05.490,8.9),^VCORR="    5.49" D ^VEXAMINE
 ;
END W !!,"End of 171---V1JST2",!
 K  K ^V1A Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
