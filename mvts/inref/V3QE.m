V3QE ;IW-KO-YS-TS,V3QUERY,MVTS V9.10;15/6/96;
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1990-1996
LOCAL1 k A
 s A("-999999999")="",A("-10")="",A("-1.2")="",A("-1.11")="",A("-1.1")=""
 s A("-.5")="",A("0")="",A(0.5)="",A("1.1")="",A("999999999")=""
 s A("#")="",A("%")="",A("+4")="",A("-4.")="",A("-4.0")="",A(".0")=""
 s A(".00")="",A("0.0")="",A("0.1")="",A("1.")="",A("1.0")="",A("A")=""
 s A("AA")="",A("AB")=""
 s A("00")="",A("01")="",A("20")="",A("123E1")="",A("--1")="",A("-0")=""
 s A("1.1.2")="",A("-")="",A("-.")="",A("-.0")="",A(".")=""
 s X1="A(-999999999) A(-10) A(-1.2) A(-1.11) A(-1.1) A(-.5) A(0) "
 s X2="A(.5) A(1.1) A(20) A(999999999) A(""#"") A(""%"") A(""+4"") A(""-"") A(""--1"") A(""-."") A(""-.0"") A(""-0"") A(""-4."") "
 s X3="A(""-4.0"") A(""."") A("".0"") A("".00"") A(""0.0"") A(""0.1"") A(""00"") A(""01"") A(""1."") A(""1.0"") A(""1.1.2"") A(""123E1"") A(""A"") A(""AA"") A(""AB"") "
 q
 ;
GLOBAL1 k ^VV
 s ^VV("-999999999")="",^VV("-10")="",^VV("-1.2")="",^VV("-1.11")=""
 s ^VV("-1.1")="",^VV("-.5")="",^VV("0")="",^VV(0.5)="",^VV("1.1")=""
 s ^VV("999999999")="",^VV("#")="",^VV("%")="",^VV("+4")="",^VV("-4.")=""
 s ^VV("-4.0")="",^VV(".0")="",^VV(".00")="",^VV("0.0")="",^VV("0.1")=""
 s ^VV("1.")="",^VV("1.0")="",^VV("A")="",^VV("AA")="",^VV("AB")=""
 s ^VV("00")="",^VV("01")="",^VV("20")="",^VV("123E1")="",^VV("--1")=""
 s ^VV("-0")=""
 s ^VV("1.1.2")="",^VV("-")="",^VV("-.")="",^VV("-.0")="",^VV(".")=""
 s X1="^VV(-999999999) ^VV(-10) ^VV(-1.2) ^VV(-1.11) ^VV(-1.1) ^VV(-.5) ^VV(0) "
 s X2="^VV(.5) ^VV(1.1) ^VV(20) ^VV(999999999) ^VV(""#"") ^VV(""%"") ^VV(""+4"") ^VV(""-"") ^VV(""--1"") ^VV(""-."") ^VV(""-.0"") ^VV(""-0"") ^VV(""-4."") "
 s X3="^VV(""-4.0"") ^VV(""."") ^VV("".0"") ^VV("".00"") ^VV(""0.0"") ^VV(""0.1"") ^VV(""00"") ^VV(""01"") ^VV(""1."") ^VV(""1.0"") ^VV(""1.1.2"") ^VV(""123E1"") ^VV(""A"") ^VV(""AA"") ^VV(""AB"") "
 q
 ;
LOCAL2 k A
 s A("0")="",A(0.5)="",A("1.1")="",A("999999999")="",A("1.")="",A("1.0")=""
 s A("0",".00")="",A("0","0.0")="",A("0","12.3")=""
 s A(1.1,"1.")="",A("1.1","1.0")="",A("1.1",0.0)="",A("1.1","0.0","-2")=""
 s A("999999999","AA")="",A("999999999","01")=""
 s A("1.","0.10")="",A("1.",0.10)=""
 S X="A(0) A(0,12.3) A(0,"".00"") A(0,""0.0"") A(.5) A(1.1) A(1.1,0) "
 s X=X_"A(1.1,""0.0"",-2) A(1.1,""1."") A(1.1,""1.0"") A(999999999) "
 s X=X_"A(999999999,""01"") A(999999999,""AA"") A(""1."") "
 s X=X_"A(""1."",.1) A(""1."",""0.10"") A(""1.0"") "
 q
 ;
GLOBAL2 k ^VV
 s ^VV("0")="",^VV(0.5)="",^VV("1.1")="",^VV("999999999")="",^VV("1.")="",^VV("1.0")=""
 s ^VV("0",".00")="",^VV("0","0.0")="",^VV("0","12.3")=""
 s ^VV(1.1,"1.")="",^VV("1.1","1.0")="",^VV("1.1",0.0)="",^VV("1.1","0.0","-2")=""
 s ^VV("999999999","AA")="",^VV("999999999","01")=""
 s ^VV("1.","0.10")="",^VV("1.",0.10)=""
 s X="^VV(0) ^VV(0,12.3) ^VV(0,"".00"") ^VV(0,""0.0"") ^VV(.5) ^VV(1.1) ^VV(1.1,0) "
 s X=X_"^VV(1.1,""0.0"",-2) ^VV(1.1,""1."") ^VV(1.1,""1.0"") ^VV(999999999) "
 s X=X_"^VV(999999999,""01"") ^VV(999999999,""AA"") ^VV(""1."") "
 s X=X_"^VV(""1."",.1) ^VV(""1."",""0.10"") ^VV(""1.0"") "
 q
 ;
LOCAL3 k A
 f I=126:-1:32 s A($c(I))=""
 s X="" f I=48:1:57 s X=X_$C(I)
 f I=32:1:33 s X=X_$c(I)
 s X=X_""""""
 f I=35:1:47,58:1:126 s X=X_$c(I)
 q
 ;
GLOBAL3 k ^VV
 f I=126:-1:32 s ^VV($c(I))=""
 s X="" f I=48:1:57 s X=X_$c(I)
 f I=32:1:33 s X=X_$c(I)
 s X=X_""""""
 f I=35:1:47,58:1:126 s X=X_$c(I)
 q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
