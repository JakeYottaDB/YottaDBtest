V1SVH	;SPECIAL VARIABLE $HOROLOG;KO-TS,,VALIDATION VERSION 7.1;31-AUG-1987;
	;COPYRIGHT MUMPS SYSTEM LABORATORY 1978
	S PASS=0,FAIL=0
	W !!,"V1SVH: TEST OF SPECIAL VARIABLE ( $HOROLOG )",!
793	W !,"I-793  Format of $H"
	S ITEM="I-793  "
	S VCOMP=$HOROLOG?1N.N1","1N.N_($H?1"0".N.E)_($H?.N1","1"0"1.N)
	S VCORR=100 D EXAMINER
	E  W:$Y>55 # W !!,"FORM OF $HOROLOG IS NOT VALID",!,"VALUE OF $H IS ",$H
	E  W !,"VALUE OF $H SHOULD BE ""D,S"" WEHRE ""D"" IS AN INTEGER VALUE"
	E  W !,"COUNTING DAYS, AND ""S"" IS AN INTEGER VALUE MODULO 86400"
	E  W !,"COUNTING SECONDS",!
	;
794	W !!,"I-794  Value of $H  (visual)"
	S ITEM="I-794  "
TIME	S %T=$P($H,",",2),%X=%T\60
	S %T=$E(%X\60+100,2,3)_":"_$E(%X#60+100,2,3)_":"_$E(%T#60+100,2,3) K %X
DATE	S %H=$H>21608+$H+1460,%L=%H\1461,%Y=%H#1461
	S %YR=%L*4+1837+(%Y\365),%D=%Y#365+1
	S %M=1 I %Y=1460 S %D=366,%YR=%YR-1
	F %I=31,%YR#4=0+28,31,30,31,30,31,31,30,31,30,31 Q:%D'>%I  S %D=%D-%I,%M=%M+1
	S %D=$E(%D+100,2,3)_"-"_$E("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC",%M*3-2,%M*3)_"-"_$E(%YR#100+100,2,3)
	;
	W !,"       CONFIRM THE FOLLOWING DATE AND TIME BY ACCURATE WATCH"
	;W !,"       ",%D,"  ",%T
	;
END	W !!,"END OF V1SVH",!
	S ROUTINE="V1SVH",TESTS=2,AUTO=1,VISUAL=1 D ^VREPORT
	K  Q
	;
EXAMINER	I VCORR=VCOMP S PASS=PASS+1 W !,"   PASS  ",ITEM W:$Y>55 # Q
	S FAIL=FAIL+1 W !,"** FAIL  ",ITEM W:$Y>55 #
	W !,"           COMPUTED =""",VCOMP,"""" W:$Y>55 #
	W !,"           CORRECT  =""",VCORR,"""" W:$Y>55 #
	Q
