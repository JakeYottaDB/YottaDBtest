V2PAT3 ;IW-KO-TS,VV2,MVTS V9.10;15/6/96;PATTERN MATCH OPERATOR -3-
 ;
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1984-1996
 W !!,"21---V2PAT3: Pattern match operator -3-",!
162 W !,"II-162  Lower case pattern code ""n"""
1621 S ^ABSN="20183",^ITEM="II-162.1  repcount",^NEXT="1622^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" s N="0123456789"
 S VCOMP=VCOMP_(N?.n)_(N?10n)_(N?10e)_(N?.10n)_(N?10.n)_(N?1.10n)_(N?1.9n)
 S ^VCOMP=VCOMP,^VCORR="1111110" D ^VEXAMINE
 ;
1622 S ^ABSN="20184",^ITEM="II-162.2  its mapping",^NEXT="1623^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I)?1n,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000000000" D ^VEXAMINE
 ;
1623 S ^ABSN="20185",^ITEM="II-162.3  lvn?5n",^NEXT="163^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I,I,I,I,I),A=A?5n,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000000000" D ^VEXAMINE
 ;
163 W !,"II-163  Lower case pattern code ""u"""
1631 S ^ABSN="20186",^ITEM="II-163.1  repcount",^NEXT="1632^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" s U="" f I=65:1:90 s U=U_$c(I)
 S VCOMP=VCOMP_(U?.u)_(U?26u)_(U?26e)_(U?.26u)_(U?26.u)_(U?1.26u)_(U?.20u)
 S ^VCOMP=VCOMP,^VCORR="1111110" D ^VEXAMINE
 ;
1632 S ^ABSN="20187",^ITEM="II-163.2  its mapping",^NEXT="1633^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I)?1u,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000000000000000000000111111111111111111111111110000000000000000000000000000000000000" D ^VEXAMINE
 ;
1633 S ^ABSN="20188",^ITEM="II-163.3  lvn?5u",^NEXT="164^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I,I,I,I,I),A=A?5u,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000000000000000000000111111111111111111111111110000000000000000000000000000000000000" D ^VEXAMINE
 ;
164 W !,"II-164  Lower case pattern code ""l"""
1641 S ^ABSN="20189",^ITEM="II-164.1  repcount",^NEXT="1642^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" s L="" f I=97:1:122 s L=L_$c(I)
 S VCOMP=VCOMP_(L?.l)_(L?26l)_(L?26e)_(L?.26l)_(L?26.l)_(L?1.26l)_(L?100.2222l)
 S ^VCOMP=VCOMP,^VCORR="1111110" D ^VEXAMINE
 ;
1642 S ^ABSN="20190",^ITEM="II-164.2  its mapping",^NEXT="1643^V2PAT3,V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I)?1l,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111111111100000" D ^VEXAMINE
 ;
1643 S ^ABSN="20191",^ITEM="II-164.3  lvn?5l",^NEXT="V2PAT4^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I,I,I,I,I),A=A?5l,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111111111100000" D ^VEXAMINE
 ;
END W !!,"End of 21---V2PAT3",!
 K  Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
