V3NEWML2 ;IW-KO-YS-TS,V3NEW,MVTS V9.10;15/6/96;
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1990-1996
 W !!,"110---V3NEWML2: NEW -40-"
 ;
85 S ^ABSN="30992",^ITEM="III-0992  $D(lvn)=10"
 S ^NEXT="86^V3NEWML2,V3NEWXA^V3NEW,V3ALDO^VV3" D ^V3PRESET K
 S ^VCOMP="" D SET
 S A(2)=^VVA,B(2)=^VVB,C(2)=^VVC
 D NEWL3,CHECK
 S ^VCORR="10 1 1 0 10 1 0 0 000#10 1 10 1 10 1 0 0 110#"
 D ^VEXAMINE K ^VVA,^VVB,^VVC,^VVD
 ;
86 S ^ABSN="30993",^ITEM="III-0993  $D(lvn)=11"
 S ^NEXT="^V3NEWXA,V3NEWL1^V3NEW,V3ALDO^VV3" D ^V3PRESET K
 S ^VCOMP="" D SET
 S A=^VVA,A(2)=^VVA,B=^VVB,B(2)=^VVB,C=^VVC,C(2)=^VVC
 D NEWL4
 D CHECK
 S ^VCORR="11 1 1 0 11 1 1 0 000100#11 1 11 1 11 1 0 0 111110#"
 D ^VEXAMINE K ^VVA,^VVB,^VVC,^VVD
 ;
END W !!,"End of 110 --- V3NEWML2",!
 K  K ^VVA,^VVB,^VVC,^VVD Q
 ;
NEWL3 ;
 NEW B,(C,B)
 S A(2)="a(2)",B="b",C(2)="c(2)"
 D CHECK
 Q
 ;
NEWL4 NEW (C) S A="a",A(2)="a(2)",B="b",C(2)="c(2)",D="" D CHECK Q
 ;
SET S A="" F I=1:1:255 S A=A_"A"
 S ^VVA=A K A
 S B="" F I=1:1:255 S B=B_"B"
 S ^VVB=B K B
 S C="" F I=1:1:255 S C=C_"C"
 S ^VVC=C K C
 S D="" F I=1:1:255 S D=D_"D"
 S ^VVD=D K D
 Q
 ;
CHECK S ^VCOMP=^VCOMP_$D(A)_" "_$D(A(2))_" "
 S ^VCOMP=^VCOMP_$D(B)_" "_$D(B(2))_" "
 S ^VCOMP=^VCOMP_$D(C)_" "_$D(C(2))_" "
 S ^VCOMP=^VCOMP_$D(D)_" "_$D(D(2))_" "
 I $D(A)#10=1    S ^VCOMP=^VCOMP_(A=^VVA)
 I $D(A(2))#10=1 S ^VCOMP=^VCOMP_(A(2)=^VVA)
 I $D(B)#10=1    S ^VCOMP=^VCOMP_(B=^VVB)
 I $D(B(2))#10=1 S ^VCOMP=^VCOMP_(B(2)=^VVB)
 I $D(C)#10=1    S ^VCOMP=^VCOMP_(C=^VVC)
 I $D(C(2))#10=1 S ^VCOMP=^VCOMP_(C(2)=^VVC)
 I $D(D)#10=1    S ^VCOMP=^VCOMP_(D=^VVD)
 I $D(D(2))#10=1 S ^VCOMP=^VCOMP_(D(2)=^VVD)
 S ^VCOMP=^VCOMP_"#"
 Q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
