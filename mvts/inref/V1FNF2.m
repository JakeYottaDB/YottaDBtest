V1FNF2 ;IW-YS-TS,V1FN,MVTS V9.10;15/6/96;FUNCTION $FIND -2-
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1978-1996
 W !!,"97---V1FNF2: $FIND function -2-",!
290 W !,"I-290  expr1 is a numeric literal and does not contains expr2 value"
2901 S ^ABSN="11321",^ITEM="I-290.1  expr1 is a numlit",^NEXT="2902^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(123.000,0),^VCORR=0 D ^VEXAMINE
2902 S ^ABSN="11322",^ITEM="I-290.2  expr1 is another numlit",^NEXT="291^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(001234.000,"0123"),^VCORR=0 D ^VEXAMINE
 ;
291 W !,"I-291  expr1 is non-integer numeric literal"
2911 S ^ABSN="11323",^ITEM="I-291.1  expr1 is a numlit",^NEXT="2912^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(00123.45000,03.40),^VCORR=6 D ^VEXAMINE
2912 S ^ABSN="11324",^ITEM="I-291.2  expr1 is another numlit",^NEXT="292^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(00123.456000E2,"34") S ^VCORR=5 D ^VEXAMINE
 ;
292 W !,"I-292  expr1 contains more than one expr2's"
2921 S ^ABSN="11325",^ITEM="I-292.1  $L(expr2)>1",^NEXT="2922^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABCBC","BC") S ^VCORR=4 D ^VEXAMINE
2922 S ^ABSN="11326",^ITEM="I-292.2  Another",^NEXT="2923^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABACDbcBBCDBCD","BC") S ^VCORR=11 D ^VEXAMINE
2923 S ^ABSN="11327",^ITEM="I-292.3  $L(expr2)=1",^NEXT="293^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("bABCBC","B") S ^VCORR=4 D ^VEXAMINE
 ;
293 W !,"I-293  expr1 is non-integer numeric and expr is ""."" or ""-"""
2931 S ^ABSN="11328",^ITEM="I-293.1  expr1 is mant",^NEXT="2932^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(00123.123000,".") S ^VCORR=5 D ^VEXAMINE
2932 S ^ABSN="11329",^ITEM="I-293.2  expr1 is mant exp",^NEXT="2933^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(123.456000E-1,".") S ^VCORR=4 D ^VEXAMINE
2933 S ^ABSN="11330",^ITEM="I-293.3  expr1 is negative non-integer numlit",^NEXT="294^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(-00123.45000E-3,"-") S ^VCORR=2 D ^VEXAMINE
 ;
294 W !,"I-294.1  expr1 is an empty string"
2941 S ^ABSN="11331",^ITEM="I-294.1  expr1 is a strlit",^NEXT="2942^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$FIND("","E") S ^VCORR=0 D ^VEXAMINE
2942 S ^ABSN="11332",^ITEM="I-294.2  expr1 is a lvn",^NEXT="295^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S A="",^VCOMP=$F(A,0.0001) S ^VCORR=0 D ^VEXAMINE
 ;
295 W !,"I-295  expr2 is an empty string"
2951 S ^ABSN="11333",^ITEM="I-295.1  expr2 is a strlit",^NEXT="2952^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(9876,"") S ^VCORR=1 D ^VEXAMINE
2952 S ^ABSN="11334",^ITEM="I-295.2  expr2 is a lvn",^NEXT="296^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S A="A",B="",^VCOMP=$F(A,B) S ^VCORR=1 D ^VEXAMINE
 ;
296 W !,"I-296  Both expr1 and expr2 are empty strings"
2961 S ^ABSN="11335",^ITEM="I-296.1  Both expr1 and expr2 are strlit",^NEXT="2962^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("","") S ^VCORR=1 D ^VEXAMINE
2962 S ^ABSN="11336",^ITEM="I-296.2  Both expr1 and expr2 are lvn",^NEXT="847^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S A="",^VCOMP=$F(A,A) S ^VCORR=1 D ^VEXAMINE
 ;
847 W !,"I-847 $F(expr1,expr2)=256  ;boundary"
8471 S A="" F I=1:1:250 S A=A_"A"
 S A=A_"BBBBB"
 S ^ABSN="11337",^ITEM="I-847.1  $F=255",^NEXT="8472^V1FNF2,V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(A,"BBBB"),^VCORR=255 D ^VEXAMINE
 ;
8472 S A="" F I=1:1:250 S A=A_"A"
 S A=A_"BBBBB"
 S ^ABSN="11338",^ITEM="I-847.2  $F=256",^NEXT="V1FNF3^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(A,"BBBBB"),^VCORR=256 D ^VEXAMINE
 ;
END W !!,"End of 97---V1FNF2",!
 K  Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
