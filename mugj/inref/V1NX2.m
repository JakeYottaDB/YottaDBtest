V1NX2	;$NEXT FUNCTION -2-;YS-TS,V1NX,VALIDATION VERSION 7.1;31-AUG-1987;
	;COPYRIGHT MUMPS SYSTEM LABORATORY 1978
	S PASS=0,FAIL=0
	W !!,"V1NX2 : TEST OF $NEXT FUNCTION -2-",!
	W !,"V1NX DEFINES 6 NODES OF AN ARRAY, THEN FINDS THE NODES BY $NEXTING"
	W !,"THROUGH THE ARRAY (VALUE STORED AT A GIVEN NODE IS THE"
	W !,"SUBSCRIPTS OF THAT NODE).  THEN VNX REPEATS THE PROCESS ON A GLOBAL.",!
	;
674	W !,"I-674  glvn is lvn"
	S ITEM="I-674  ",VCOMP="" K A
1	S A(0)=0,A(1)=1,A(2,0)="2,0",A(2,1)="2,1",A(2,2,1)="2,2,1",A(3)=3,A(3,1)="3,1"
2	S A(3,1,1)="3,1,1",I=-1,J=-1,K=-1
10	S I=$NEXT(A(I)) I I=-1 G G674
	S VCOMP=VCOMP_I_" " I $D(A(I))#10=1 S VCOMP=VCOMP_A(I)_" / "
11	S J=$N(A(I,J)) I J=-1 G 10
	S VCOMP=VCOMP_J_" " I $D(A(I,J))#10=1 S VCOMP=VCOMP_A(I,J)_" / "
12	S K=$N(A(I,J,K)) I K=-1 G 11
	S VCOMP=VCOMP_K_" " I $D(A(I,J,K))#10=1 S VCOMP=VCOMP_A(I,J,K)_" / "
13	G 12
G674	S VCORR="0 0 / 1 1 / 2 0 2,0 / 1 2,1 / 2 1 2,2,1 / 3 3 / 1 3,1 / 1 3,1,1 / " D EXAMINER
	;
675	W !,"I-675  glvn is gvn"
	S ITEM="I-675  ",VCOMP="" K ^V1
	S ^V1="TEST TOP LEVEL SET OF A GLOBAL NODE"
	S ^V1(0)=0,^(1)=1,^(2,0)="2,0",^(1)="2,1",^(2,1)="2,2,1",^V1(3)=3,^(3,1)="3,1"
	S ^(1,1)="3,1,1"
110	S I=-1,J=-1,K=-1 D 111
	S VCORR="0 0 / 1 1 / 2 0 2,0 / 1 2,1 / 2 1 2,2,1 / 3 3 / 1 3,1 / 1 3,1,1 / " D EXAMINER
	G END
111	S I=$NEXT(^V1(I)) I I=-1 Q
	S VCOMP=VCOMP_I_" " I $D(^(I))#10=1 S VCOMP=VCOMP_^(I)_" / "
112	S J=$N(^V1(I,J)) I J=-1 G 111
	S VCOMP=VCOMP_J_" " I $D(^(J))#10=1 S VCOMP=VCOMP_^(J)_" / "
113	S K=$N(^V1(I,J,K)) I K=-1 G 112
	S VCOMP=VCOMP_K_" " I $D(^(K))#10=1 S VCOMP=VCOMP_^(K)_" / "
	G 113
	;
END	W !!,"END OF V1NX2",!
	S ROUTINE="V1NX2",TESTS=2,AUTO=2,VISUAL=0 D ^VREPORT
	K  K ^V1 Q
	;
EXAMINER	I VCORR=VCOMP S PASS=PASS+1 W !,"   PASS  ",ITEM W:$Y>55 # Q
	S FAIL=FAIL+1 W !,"** FAIL  ",ITEM W:$Y>55 #
	W !,"           COMPUTED =""",VCOMP,"""" W:$Y>55 #
	W !,"           CORRECT  =""",VCORR,"""" W:$Y>55 #
	Q
