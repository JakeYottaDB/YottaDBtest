V2PAT4 ;IW-KO-TS,VV2,MVTS V9.10;15/6/96;PATTERN MATCH OPERATOR -4-
 ;
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1984-1996
 W !!,"22---V2PAT4: Pattern match operator -4-",!
 ;
165 W !,"II-165  Lower case pattern code ""a"""
1651 S ^ABSN="20192",^ITEM="II-165.1  repcount",^NEXT="1652^V2PAT4,V2NO1^VV2" D ^V2PRESET
 S VCOMP="" S U="" f I=65:1:90 s U=U_$c(I)
 S L="" f I=97:1:122 s L=L_$c(I)
 S A=U_L
 S VCOMP=VCOMP_(A?.a)_(A?52a)_(A?52e)_(A?.52a)_(A?52.a)_(A?1.52a)_(A?53.a)
 S ^VCOMP=VCOMP,^VCORR="1111110" D ^VEXAMINE
 ;
1652 S ^ABSN="20193",^ITEM="II-165.2  its mapping",^NEXT="1653^V2PAT4,V2NO1^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I)?1a,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000000000000000000000111111111111111111111111110000001111111111111111111111111100000" D ^VEXAMINE
 ;
1653 S ^ABSN="20194",^ITEM="II-165.3  lvn?5a",^NEXT="166^V2PAT4,V2NO1^VV2" D ^V2PRESET
 S VCOMP="" F I=0:1:127 S A=$C(I,I,I,I,I),A=A?5a,VCOMP=VCOMP_A
 S ^VCOMP=VCOMP,^VCORR="00000000000000000000000000000000000000000000000000000000000000000111111111111111111111111110000001111111111111111111111111100000" D ^VEXAMINE
 ;
166 W !,"II-166  Lower case pattern code ""e"""
1661 S ^ABSN="20195",^ITEM="II-166.1  repcount",^NEXT="1662^V2PAT4,V2NO1^VV2" D ^V2PRESET
 S VCOMP="" s E="" f I=0:1:127 s E=E_$c(I)
 f I=0:1:126 s E=E_$c(I)
 S VCOMP=VCOMP_(E?.e)_(E?255e)_(E?.255e)_(E?255.e)_(E?1.255e)_(E?000100.0999999unlpc)_(E?256e)
 S ^VCOMP=VCOMP,^VCORR="1111110" D ^VEXAMINE
 ;
1662 S ^ABSN="20196",^ITEM="II-166.2  its mapping",^NEXT="1663^V2PAT4,V2NO1^VV2" D ^V2PRESET
 S ^VCOMP="" F I=0:1:127 S A=$C(I)?1e,^VCOMP=^VCOMP_A
 S ^VCORR="11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111" D ^VEXAMINE
 ;
1663 S ^ABSN="20197",^ITEM="II-166.3  lvn?5e",^NEXT="V2NO1^VV2" D ^V2PRESET
 S ^VCOMP="" F I=0:1:127 S A=$C(I,I,I,I,I),A=A?5e,^VCOMP=^VCOMP_A
 S ^VCORR="11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111" D ^VEXAMINE
 ;
END W !!,"End of 22---V2PAT4",!
 K  Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
