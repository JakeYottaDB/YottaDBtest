V3TEXT1 ;IW-KO-YS-TS,V3TEXT,MVTS V9.10;15/6/96;PART-90
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1990-1996
 ;
 W !!,"18---V3TEXT1: $TEXT function -1-"
 ;
 W !!,"$TEXT(^routineref)",!
 ;
1 S ^ABSN="30252",^ITEM="III-252  routineref is a routinename"
 S ^NEXT="2^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$TEXT(^V3TEXTA)
 S ^VCORR="V3TEXTA ;IW-KO-YS-TS,V3TEXT,MVTS V9.10;15/6/96;PART-90" D ^VEXAMINE
 ;
2 S ^ABSN="30253",^ITEM="III-253  routinename has characters of significance"
 S ^NEXT="3^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$text(^V3TEXTA8)
 S ^VCORR="V3TEXTA8 ;IW-KO-YS-TS,V3TEXT,MVTS V9.10;15/6/96;PART-90" D ^VEXAMINE
 ;
3 S ^ABSN="30254",^ITEM="III-254  routinename has indirection"
 S ^NEXT="4^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ROU="V3TEXTA"
 S ^VCOMP=$T(^@ROU) K ROU
 S ^VCORR="V3TEXTA ;IW-KO-YS-TS,V3TEXT,MVTS V9.10;15/6/96;PART-90" D ^VEXAMINE
 ;
4 S ^ABSN="30255",^ITEM="III-255  The label having the same form as routinename does not exist on the 1st line"
 S ^NEXT="5^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$t(^V3TEXTB)
 S ^VCORR=" ;V3TEXTB ;IW-KO-YS-TS,V3TEXT,MVTS V9.10;15/6/96;PART-90" D ^VEXAMINE
 ;
 W !!,"$TEXT(dlable^routineref)",!
 ;
5 S ^ABSN="30256",^ITEM="III-256  routineref is a routinename"
 S ^NEXT="6^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(LABEL^V3TEXTA)
 S ^VCORR="LABEL S A=2 ;COMMENT" D ^VEXAMINE
 ;
6 S ^ABSN="30257",^ITEM="III-257  routineref has indirection"
 S ^NEXT="7^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$Text(A^V3TEXTB)
 S ^VCORR="A S ^VCOMP=123 ;TEXT" D ^VEXAMINE
 ;
7 S ^ABSN="30258",^ITEM="III-258  dlabel is a label"
 S ^NEXT="8^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(B^V3TEXTA)
 S ^VCORR="B ;S ^VCOMP=123 S B=3 ;;TEST" D ^VEXAMINE
 ;
8 S ^ABSN="30259",^ITEM="III-259  dlabel has indirection"
 S ^NEXT="9^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S A("ABC")="A0001"
 S ^VCOMP=$T(@A("ABC")^V3TEXTA8) K A
 S ^VCORR="A0001 ;;COMMNENT  ;COMMNENT" D ^VEXAMINE
 ;
9 S ^ABSN="30260",^ITEM="III-260  Both dlabel and routineref have indirection"
 S ^NEXT="10^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^V3TEXT(12)="B0000",^V3TEXT="V3TEXTA8"
 S ^VCOMP=$T(@^V3TEXT(12)^@^V3TEXT)
 S ^VCORR="B0000 S ^V3TEXT=0 Q" D ^VEXAMINE K ^V3TEXT
 ;
10 S ^ABSN="30261",^ITEM="III-261  dlabel is 00000"
 S ^NEXT="11^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(00000^V3TEXTB)
 S ^VCORR="00000 S A=0 ;ABC" D ^VEXAMINE
 ;
11 S ^ABSN="30262",^ITEM="III-262  dlabel is 0"
 S ^NEXT="12^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(0^V3TEXTB)
 S ^VCORR="0 S B=1 ;COMMENT" D ^VEXAMINE
 ;
12 S ^ABSN="30263",^ITEM="III-263  dlabel is 01"
 S ^NEXT="13^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(01^V3TEXTB)
 S ^VCORR="01 S B=12" D ^VEXAMINE
 ;
13 S ^ABSN="30264",^ITEM="III-264  dlabel is 1"
 S ^NEXT="14^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(1^V3TEXTB)
 S ^VCORR="1 ;S C=34 ;;;;;;ROUTINE" D ^VEXAMINE
 ;
14 S ^ABSN="30265",^ITEM="III-265  dlable has 8 chars of significance"
 S ^NEXT="15^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$T(ABCDEFGH^V3TEXTB)
 S ^VCORR="ABCDEFGH S A=123 ;ABC" D ^VEXAMINE
 ;
15 S ^ABSN="30266",^ITEM="III-266  routinename has 8 chars significance"
 S ^NEXT="16^V3TEXT1,V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$t(B000^V3TEXTA8)
 S ^VCORR="B000 S ^V3TEXT=1 Q" D ^VEXAMINE
 ;
16 S ^ABSN="30267",^ITEM="III-267  Both dlabel and routinename have 8 chars of significance"
 S ^NEXT="V3TEXT2^V3TEXT,V3FOR^VV3" D ^V3PRESET
 S ^VCOMP=$text(B0000000^V3TEXTA8)
 S ^VCORR="B0000000 S ^V3TEXT=8 Q" D ^VEXAMINE
 ;
END W !!,"End of 18 --- V3TEXT1",!
 K  Q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
