V1FNF1 ;IW-YS-TS,V1FN,MVTS V9.10;15/6/96;FUNCTION $FIND -1-
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1978-1996
 W !!,"96---V1FNF1: $FIND function -1-"
 W !!,"$FIND(expr1,expr2)",!
287 W !,"I-287  expr1 is string literal and contains expr2"
2871 S ^ABSN="11303",^ITEM="I-287.1  $L(expr2)=1",^NEXT="2872^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$FIND("ABC","B") S ^VCORR=3 D ^VEXAMINE
 ;
2872 S ^ABSN="11304",^ITEM="I-287.2  $L(expr2)=2",^NEXT="2873^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$FIND("ABCD","BC") S ^VCORR=4 D ^VEXAMINE
 ;
2873 S ^ABSN="11305",^ITEM="I-287.3  expr1=expr2",^NEXT="2874^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890","ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890")
 S ^VCORR=37 D ^VEXAMINE
 ;
2874 S ^ABSN="11306",^ITEM="I-287.4  $L(expr1,expr2)=2 and $E(expr1,1,$L(expr2))=expr2",^NEXT="2875^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABCEFGHABCEFGHAB","ABCEFGHA") S ^VCORR=9 D ^VEXAMINE
 ;
2875 S ^ABSN="11307",^ITEM="I-287.5  $L(expr1,expr2)>2 and $E(expr1,1,$L(expr2))=expr2",^NEXT="2876^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("@@@@@@@@ASCII","@@") S ^VCORR=3 D ^VEXAMINE
 ;
2876 S ^ABSN="11308",^ITEM="I-287.6  $E(expr1,$L(expr1)-$L(expr2)+1,$L(expr1))=expr2",^NEXT="2877^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABCEFGHABCEFGHA^^","ABCEFGHA^^") S ^VCORR=18 D ^VEXAMINE
 ;
2877 S ^ABSN="11309",^ITEM="I-287.7  $L(expr1,expr2)=2 and $E(expr1,1,$L(expr2))'=expr2",^NEXT="2878^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("^A^B^C^D^E^F^G^","^C^") S ^VCORR=8 D ^VEXAMINE
 ;
2878 S ^ABSN="11310",^ITEM="I-287.8  $L(expr1,expr2)>2 and $E(expr1,1,$L(expr2))'=expr2",^NEXT="2879^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("^A^C^C^D^C^F^G^","^C^") S ^VCORR=6 D ^VEXAMINE
 ;
2879 S ^ABSN="11311",^ITEM="I-287.9  expr2 is "".""",^NEXT="288^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("123.456000E+2","."),^VCORR=5 D ^VEXAMINE
 ;
288 W !,"I-288  expr1 is a numeric literal and contains expr2 value"
2881 S ^ABSN="11312",^ITEM="I-288.1  expr1 is a numlit",^NEXT="2882^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(3E1,3E0) S ^VCORR=2 D ^VEXAMINE
2882 S ^ABSN="11313",^ITEM="I-288.2  expr1 is another numlit",^NEXT="289^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F(-0045.94E-02,"59") S ^VCORR=6 D ^VEXAMINE
 ;
289 W !,"I-289  expr1 is string literal and does not contains expr2"
2891 S ^ABSN="11314",^ITEM="I-289.1  expr1 does not contains expr2 character",^NEXT="2892^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$FIND("ABC","E") S ^VCORR=0 D ^VEXAMINE
 ;
2892 S ^ABSN="11315",^ITEM="I-289.2  expr2 is a lvn",^NEXT="2893^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S A="TAYBZD",^VCOMP=$F("ABCDEFGHIJKLMNOPQRSTUVWXYZ",A) S ^VCORR=0 D ^VEXAMINE
 ;
2893 S ^ABSN="11316",^ITEM="I-289.3  $L(expr1)=$L(expr2) and expr1'=expr2",^NEXT="2894^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$FIND("ABC","AB3") S ^VCORR=0 D ^VEXAMINE
 ;
2894 S ^ABSN="11317",^ITEM="I-289.4  $L(expr1)<$L(expr2)",^NEXT="2895^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$FIND("ABCDEFGHIJKLMNOPQRSTUVWXY","ABCDEFGHIJKLMNOPQRSTUVWXYZ") S ^VCORR=0 D ^VEXAMINE
 ;
2895 S ^ABSN="11318",^ITEM="I-289.5  $L(expr1,$E(expr2,1,$L(expr2)-1))>1",^NEXT="2896^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABCDEFABCDEFABCDEFABCDEFABCDEF"," ABCDEF"),^VCORR=0 D ^VEXAMINE
 ;
2896 S ^ABSN="11319",^ITEM="I-289.6  $L(expr1,$E(expr2,2,$L(expr2)))>1",^NEXT="2897^V1FNF1,V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABCDEFABCDEFABCDEFABCDEFABCDEF","ABCDEFG") S ^VCORR=0 D ^VEXAMINE
 ;
2897 S ^ABSN="11320",^ITEM="I-289.7  $L(expr1,$E(expr2,2,$L(expr2)-1))>1",^NEXT="V1FNF2^V1FN,V1AC^VV1" D ^V1PRESET
 S ^VCOMP=$F("ABCDEFABCDEFABCDEFABCDEFABCDEF","@ABCDEFG") S ^VCORR=0 D ^VEXAMINE
 ;
END W !!,"End of 96---V1FNF1",!
 K  Q
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
