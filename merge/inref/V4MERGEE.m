V4MERGEE ;IW-KO-YS-TS,V4MERGE,MVTS V9.10;15/6/96;PART-94
 ;COPYRIGHT MUMPS SYSTEMS LABORATORY 1994-1996
 ;
 W !!,"88---V4MERGEE:  MERGE Command  -E-"
 ;
1 S ^ABSN="40597",^ITEM="IV-597  $d(gvn1)=1 and $d(gvn2)=0"
 S ^NEXT="2^V4MERGEE,V4MERGEF^V4MERGE,V4READ^VV4" D ^V4PRESET K  K ^V,^VV
 S ^V(1)="V1 ",^V(2)="V2 ",^V("A")="VA ",^V(2,1)="V21 "
 S ^VV(2,1,1)="VV211 "
 M ^V(2)=^VV("A")
 S X=$$^V4MERE("^V"),Y=$$^V4MERE("^VV"),^VCOMP=X_"/"_Y
 S ^VCORR="1:V1 2:V2 21:V21 A:VA /211:VV211 " D ^VEXAMINE K ^V,^VV
 ;
2 S ^ABSN="40598",^ITEM="IV-598  $d(gvn1)=1 and $d(gvn2)=1"
 S ^NEXT="3^V4MERGEE,V4MERGEF^V4MERGE,V4READ^VV4" D ^V4PRESET K  K ^V
 S ^V(1,1)="V11 ",^V(1,1,1)="V111 ",^V(1,2,1)="V121 "
 S ^V("A",1)="VA1 "
 M ^V("A",1)=^V(1,2,1)
 S X=$$^V4MERE("^V"),Y=$$^V4MERE("^V"),^VCOMP=X_"/"_Y
 S ^VCORR="11:V11 111:V111 121:V121 A1:V121 /11:V11 111:V111 121:V121 A1:V121 " D ^VEXAMINE K ^V
 ;
3 S ^ABSN="40599",^ITEM="IV-599  $d(gvn1)=1 and $d(gvn2)=10"
 S ^NEXT="4^V4MERGEE,V4MERGEF^V4MERGE,V4READ^VV4" D ^V4PRESET K  K ^V,^VV
 S ^V("A")="VA ",^V(2,1)="V21 "
 S ^VV(2,1,1)="VV211 ",^VV(2,2)="VV22 ",^VV(2,2,1)="VV221 "
 M ^V(2,1)=^VV(2)
 S X=$$^V4MERE("^V"),Y=$$^V4MERE("^VV"),^VCOMP=X_"/"_Y
 S ^VCORR="21:V21 2111:VV211 212:VV22 2121:VV221 A:VA /211:VV211 22:VV22 221:VV221 " D ^VEXAMINE K ^V,^VV
 ;
4 S ^ABSN="40600",^ITEM="IV-600  $d(gvn1)=1 and $d(gvn2)=11"
 S ^NEXT="V4MERGEF^V4MERGE,V4READ^VV4" D ^V4PRESET K  K ^V,^VV
 S ^V(1,1,1)="V111 ",^V(1,1,1,1)="V1111 ",^V(2)="V2 "
 S ^VV(1)="VV1 ",^VV(1,1)="VV11 "
 M ^V(2)=^VV(1)
 S X=$$^V4MERE("^V"),Y=$$^V4MERE("^VV"),^VCOMP=X_"/"_Y
 S ^VCORR="111:V111 1111:V1111 2:VV1 21:VV11 /1:VV1 11:VV11 " D ^VEXAMINE K ^V,^VV
 ;
END W !!,"End of 88 --- V4MERGEE",!
 K  Q
 ;
SUM S SUM=0 F I=1:1 S L=$T(+I) Q:L=""  F K=1:1:$L(L) S SUM=SUM+$A(L,K)
 Q
